[{"path":"https://causalepi.github.io/tvmedg/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 tvmedg authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://causalepi.github.io/tvmedg/articles/Tutorial.html","id":"background","dir":"Articles","previous_headings":"","what":"Background","title":"Tutorial","text":"tvmedg package implements causal mediation analysis using g-computation longitudinal settings time-varying exposures, mediators, confounders, outcomes. extends g-computation framework decompose total effects randomized interventional analogues natural direct indirect effects, presence time-varying confounding affected prior exposures mediators. approach builds upon ‘mediational g-formula’ introduced VanderWeele Tchetgen Tchetgen (2017).","code":""},{"path":"https://causalepi.github.io/tvmedg/articles/Tutorial.html","id":"steps","dir":"Articles","previous_headings":"","what":"Steps","title":"Tutorial","text":"[…]","code":""},{"path":"https://causalepi.github.io/tvmedg/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Quynh Long Khuong. Author, copyright holder. Nguyen Pham Nguyen . Author, maintainer. Thinh Ong. Author. Kelly D. Getz. Author.","code":""},{"path":"https://causalepi.github.io/tvmedg/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Khuong Q, Pham Nguyen N, Ong T, Getz K (2025). tvmedg: Time-varying mediation analysis using g-computation. R package version 0.1.0, https://causalepi.github.io/tvmedg/.","code":"@Manual{,   title = {tvmedg: Time-varying mediation analysis using g-computation},   author = {Quynh Long Khuong and Nguyen {Pham Nguyen The} and Thinh Ong and Kelly D. Getz},   year = {2025},   note = {R package version 0.1.0},   url = {https://causalepi.github.io/tvmedg/}, }"},{"path":"https://causalepi.github.io/tvmedg/index.html","id":"tvmedg-","dir":"","previous_headings":"","what":"Time-varying mediation analysis using g-computation","title":"Time-varying mediation analysis using g-computation","text":"tvmedg package implements causal mediation analysis using g-computation longitudinal settings time-varying exposures, mediators, confounders, outcomes. extends g-computation framework decompose total effects randomized interventional analogues natural direct indirect effects, presence time-varying confounding affected prior exposures mediators. approach builds upon ‘mediational g-formula’ introduced VanderWeele Tchetgen Tchetgen (2017). current version tvmedg supports multiple mediators, binary continuous exposures, spline-based functional forms continuous variables. package also enables parallel computing efficiency large-scale analyses. Besides core modeling functions, tvmedg includes functions visualizing diagnosing model results.","code":""},{"path":"https://causalepi.github.io/tvmedg/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Time-varying mediation analysis using g-computation","text":"development version tvmedg can installed GitHub:","code":"# install.packages(\"devtools\") devtools::install_github(\"causalepi/tvmedg\")"},{"path":"https://causalepi.github.io/tvmedg/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Time-varying mediation analysis using g-computation","text":"","code":"library(tvmedg) library(doParallel) #> Loading required package: foreach #> Loading required package: iterators #> Loading required package: parallel"},{"path":"https://causalepi.github.io/tvmedg/index.html","id":"simulation-data","dir":"","previous_headings":"Quick Start","what":"Simulation data","title":"Time-varying mediation analysis using g-computation","text":"","code":"head(sim_data) #>   id mm Ap Mp L1       L2        L3 Yp      age sex ow risk lastid #> 1  1  1  0  0  0 100.0000  80.00000  0 10.92764   1  1    0      0 #> 2  1  2  0  0  0 130.6644  88.06184  0 10.92764   1  1    0      0 #> 3  1  3  0  0  0 125.2740  97.63087  0 10.92764   1  1    0      0 #> 4  1  4  0  0  0 135.2596 112.20273  0 10.92764   1  1    0      0 #> 5  1  5  0  0  0 124.3786 108.05454  0 10.92764   1  1    0      0 #> 6  1  6  0  0  0 141.4882 123.36927  0 10.92764   1  1    0      0"},{"path":"https://causalepi.github.io/tvmedg/index.html","id":"run-model","dir":"","previous_headings":"Quick Start","what":"Run model","title":"Time-varying mediation analysis using g-computation","text":"","code":"cl <- makeCluster(8) registerDoParallel(cl)  op <- tvmedg(data = sim_data,        basec = c(\"age\",\"sex\",\"ow\",\"risk\"),        expo = c(\"Ap\"),        med = c(\"Mp\"),        tvar = c(\"L1\",\"L2\",\"L3\"),        outc = c(\"Yp\"),        time = c(\"mm\"),        lag = 2,        norev = c(\"Mp\"),        cont_exp = F,        mreg = \"binomial\",        lreg = c(\"binomial\",\"gaussian\",\"gaussian\"),        yreg = \"binomial\",        sp_list = c(\"mm\"),        sp_type = c(\"bs\"),        sp_df = c(3),        followup = 12,        seed = 123,        montecarlo = 1000,        boot = F,        parallel = TRUE) #> Q(a,a): 0.193  #> Q(a,a*): 0.076  #> Q(a*,a*): 0  #> Indirect: 0.117  #> Direct: 0.076  #> Total: 0.193  #> Proportional explain: 0.606  #> Total time elapsed: 3.121895 mins  stopCluster(cl)"},{"path":"https://causalepi.github.io/tvmedg/reference/ExtResult2.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract result — ExtResult2","title":"Extract result — ExtResult2","text":"Extract result","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/ExtResult2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract result — ExtResult2","text":"","code":"ExtResult2(data, am)"},{"path":"https://causalepi.github.io/tvmedg/reference/ExtResult2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract result — ExtResult2","text":"data input data model","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/ExtResult2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract result — ExtResult2","text":"Q11,Q10,Q00","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/baseline_mc.html","id":null,"dir":"Reference","previous_headings":"","what":"Resampling basic variables — baseline_mc","title":"Resampling basic variables — baseline_mc","text":"Resampling basic variables","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/baseline_mc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resampling basic variables — baseline_mc","text":"","code":"baseline_mc(data = fitR2, montecarlo = 1000)"},{"path":"https://causalepi.github.io/tvmedg/reference/baseline_mc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resampling basic variables — baseline_mc","text":"data input data montecarlo number repeated samples accept-reject algorithm","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/baseline_mc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resampling basic variables — baseline_mc","text":"data resampling","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/cal_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Confident interval calculation — cal_ci","title":"Confident interval calculation — cal_ci","text":"Confident interval calculation","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/cal_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Confident interval calculation — cal_ci","text":"","code":"cal_ci(data, ci = 0.95, boot = T)"},{"path":"https://causalepi.github.io/tvmedg/reference/cal_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Confident interval calculation — cal_ci","text":"data input data ci percentage confident interval boot bootstraping","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/cal_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Confident interval calculation — cal_ci","text":"confident interval","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/fitg.html","id":null,"dir":"Reference","previous_headings":"","what":"Fitting model — fitg","title":"Fitting model — fitg","text":"Fitting model","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/fitg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fitting model — fitg","text":"","code":"fitg(   data,   boot = FALSE,   mreg = \"binomial\",   lreg = c(\"binomial\", \"gaussian\", \"gaussian\"),   yreg = \"binomial\" )"},{"path":"https://causalepi.github.io/tvmedg/reference/fitg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fitting model — fitg","text":"data input data boot bootstraping mreg regression model mediator lreg regression model time-varying variable yreg regression model outcome variable","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/fitg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fitting model — fitg","text":"fitted model","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/g_form.html","id":null,"dir":"Reference","previous_headings":"","what":"g-formula — g_form","title":"g-formula — g_form","text":"g-formula","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/g_form.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"g-formula — g_form","text":"","code":"g_form(data = fitR2$res_df, model = fitR2, followup, am = 1, ay = 0)"},{"path":"https://causalepi.github.io/tvmedg/reference/g_form.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"g-formula — g_form","text":"data input data model model g formula followup length follow ay ay","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/g_form.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"g-formula — g_form","text":"dataframe predict follow time","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/plot.tvmedg.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot function — plot.tvmedg","title":"Plot function — plot.tvmedg","text":"Plot function","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/plot.tvmedg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot function — plot.tvmedg","text":"","code":"# S3 method for class 'tvmedg' plot(x, what = c(\"cumY\", \"tvY\"), ...)"},{"path":"https://causalepi.github.io/tvmedg/reference/plot.tvmedg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot function — plot.tvmedg","text":"x data Cummulative Y time-varying Y ... arbitrary params","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/plot.tvmedg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot function — plot.tvmedg","text":"plot","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/process_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process data — process_data","title":"Process data — process_data","text":"Process data","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/process_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process data — process_data","text":"","code":"process_data(   basec,   expo,   med,   tvar,   lag,   outc,   time,   norev = NULL,   tvar_to_med = FALSE,   cont_exp = FALSE,   cont_exp_std = F,   sp_list = NULL,   sp_type = NULL,   sp_df = NULL,   data )"},{"path":"https://causalepi.github.io/tvmedg/reference/process_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process data — process_data","text":"basec time-fixed variables expo exposure variable med mediator variable tvar time-varying variable lag number lag outc outcome variable time time variable norev non-reversible variable (among expo,med,tvar) tvar_to_med time-varying varible mediator cont_exp continuous exposure cont_exp_std standardize continuous exposure sp_list splines list sp_type splines type sp_df spines degree freedom data input data","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/process_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process data — process_data","text":"data frame lag exposure, mediator, time-varying variable","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/rFunc.html","id":null,"dir":"Reference","previous_headings":"","what":"predict function — rFunc","title":"predict function — rFunc","text":"predict function","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/rFunc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"predict function — rFunc","text":"","code":"rFunc(mod, ndat)"},{"path":"https://causalepi.github.io/tvmedg/reference/rFunc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"predict function — rFunc","text":"mod fitted model ndat new input data","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/rFunc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"predict function — rFunc","text":"predicted value","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/resamp.html","id":null,"dir":"Reference","previous_headings":"","what":"Resampling input data — resamp","title":"Resampling input data — resamp","text":"Resampling input data","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/resamp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resampling input data — resamp","text":"","code":"resamp(data, boot = FALSE)"},{"path":"https://causalepi.github.io/tvmedg/reference/resamp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resampling input data — resamp","text":"data input data boot boostrap","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/resamp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resampling input data — resamp","text":"original dataframe boot = FALSE, resampled dataframe boot = TRUE","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/sim_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulation dataset — sim_data","title":"Simulation dataset — sim_data","text":"simulation dataset","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/sim_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulation dataset — sim_data","text":"","code":"sim_data"},{"path":"https://causalepi.github.io/tvmedg/reference/sim_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Simulation dataset — sim_data","text":"data frame 1147 rows 13 variables: id integer patient id mm double time variable Ap double exposure variable Mp double mediator variable L1 double time-varying variable L2 double time-varying variable L3 double time-varying variable Yp double outcome variable age double age variable sex integer sex variable ow integer overweight risk integer risk lastid double last time follow ","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/sim_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulation dataset — sim_data","text":"DETAILS","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/tvmedg.html","id":null,"dir":"Reference","previous_headings":"","what":"Time-varying mediation analysis using g-computation — tvmedg","title":"Time-varying mediation analysis using g-computation — tvmedg","text":"Time-varying mediation analysis using g-computation","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/tvmedg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Time-varying mediation analysis using g-computation — tvmedg","text":"","code":"tvmedg(   data,   basec,   expo,   med,   tvar,   outc,   time,   lag = 2,   norev = NULL,   cont_exp = NULL,   cont_exp_std = F,   tvar_to_med = F,   mreg = \"binomial\",   lreg = c(\"binomial\", \"gaussian\", \"gaussian\"),   yreg = \"binomial\",   sp_list = NULL,   sp_type = NULL,   sp_df = NULL,   followup = 12,   seed = 0,   montecarlo = 1000,   boot = FALSE,   nboot = 1,   ci = 0.95,   parallel = TRUE )"},{"path":"https://causalepi.github.io/tvmedg/reference/tvmedg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Time-varying mediation analysis using g-computation — tvmedg","text":"data input data basec time-fixed variables expo exposure variable med mediator variable tvar time-varying variable outc outcome variable time time variable lag number lag norev non-reversible variable (among expo,med,tvar) cont_exp continuous exposure cont_exp_std standardize continuous exposure tvar_to_med time-varying varible mediator mreg regression model mediator lreg regression model time-varying variable yreg regression model outcome variable sp_list splines list sp_type splines type sp_df spines degree freedom followup length follow seed set seed montecarlo number repeated samples accept-reject algorithm boot boostrap nboot bootstraping times ci confident interval parallel run parallel","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/tvmedg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Time-varying mediation analysis using g-computation — tvmedg","text":"Q11, Q10, Q00","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/tvmedg_theme.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper to adjust styling of a plot — tvmedg_theme","title":"Helper to adjust styling of a plot — tvmedg_theme","text":"Helper adjust styling plot","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/tvmedg_theme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper to adjust styling of a plot — tvmedg_theme","text":"","code":"tvmedg_theme(...)"},{"path":"https://causalepi.github.io/tvmedg/reference/tvmedg_theme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper to adjust styling of a plot — tvmedg_theme","text":"... arbitrary params","code":""},{"path":"https://causalepi.github.io/tvmedg/reference/tvmedg_theme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper to adjust styling of a plot — tvmedg_theme","text":"list updated aesthetic values","code":""}]
